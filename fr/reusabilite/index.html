<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Réusabilité et composition | Vue.js en profondeur</title>
    <meta name="description" content="Une formation d&#39;introduction à Vue.js">
    
    
    <link rel="preload" href="/vuejs-training/assets/css/0.styles.0095ce53.css" as="style"><link rel="preload" href="/vuejs-training/assets/js/app.b2f1ab06.js" as="script"><link rel="preload" href="/vuejs-training/assets/js/2.bc4a2d9f.js" as="script"><link rel="preload" href="/vuejs-training/assets/js/29.1aefee6e.js" as="script"><link rel="prefetch" href="/vuejs-training/assets/js/10.fc5fce30.js"><link rel="prefetch" href="/vuejs-training/assets/js/11.001f511d.js"><link rel="prefetch" href="/vuejs-training/assets/js/12.74660dd5.js"><link rel="prefetch" href="/vuejs-training/assets/js/13.d65f2323.js"><link rel="prefetch" href="/vuejs-training/assets/js/14.c6e4b6b1.js"><link rel="prefetch" href="/vuejs-training/assets/js/15.e5af265d.js"><link rel="prefetch" href="/vuejs-training/assets/js/16.6ece437c.js"><link rel="prefetch" href="/vuejs-training/assets/js/17.31beca0b.js"><link rel="prefetch" href="/vuejs-training/assets/js/18.182add32.js"><link rel="prefetch" href="/vuejs-training/assets/js/19.82392508.js"><link rel="prefetch" href="/vuejs-training/assets/js/20.c59fdf04.js"><link rel="prefetch" href="/vuejs-training/assets/js/21.32a2b576.js"><link rel="prefetch" href="/vuejs-training/assets/js/22.360b4a3b.js"><link rel="prefetch" href="/vuejs-training/assets/js/23.9bfee3c5.js"><link rel="prefetch" href="/vuejs-training/assets/js/24.674e674b.js"><link rel="prefetch" href="/vuejs-training/assets/js/25.03650b5d.js"><link rel="prefetch" href="/vuejs-training/assets/js/26.948b1351.js"><link rel="prefetch" href="/vuejs-training/assets/js/27.679b09ba.js"><link rel="prefetch" href="/vuejs-training/assets/js/28.618ce657.js"><link rel="prefetch" href="/vuejs-training/assets/js/3.75f23d10.js"><link rel="prefetch" href="/vuejs-training/assets/js/30.2bfb2fc1.js"><link rel="prefetch" href="/vuejs-training/assets/js/31.cb670649.js"><link rel="prefetch" href="/vuejs-training/assets/js/32.d6fcad52.js"><link rel="prefetch" href="/vuejs-training/assets/js/33.b883c3b1.js"><link rel="prefetch" href="/vuejs-training/assets/js/34.96c5b58e.js"><link rel="prefetch" href="/vuejs-training/assets/js/35.c774b4fc.js"><link rel="prefetch" href="/vuejs-training/assets/js/4.331d769c.js"><link rel="prefetch" href="/vuejs-training/assets/js/5.e3acd7a6.js"><link rel="prefetch" href="/vuejs-training/assets/js/6.9328b127.js"><link rel="prefetch" href="/vuejs-training/assets/js/7.11e7f726.js"><link rel="prefetch" href="/vuejs-training/assets/js/8.15a2f53e.js"><link rel="prefetch" href="/vuejs-training/assets/js/9.c387bc17.js">
    <link rel="stylesheet" href="/vuejs-training/assets/css/0.styles.0095ce53.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuejs-training/fr/" class="home-link router-link-active"><!----> <span class="site-name">Vue.js en profondeur</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Langue</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs-training/" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/vuejs-training/fr/reusabilite/" class="nav-link router-link-exact-active router-link-active">Français</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Langue</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs-training/" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/vuejs-training/fr/reusabilite/" class="nav-link router-link-exact-active router-link-active">Français</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuejs-training/fr/" class="sidebar-link">Bienvenue</a></li><li><a href="/vuejs-training/fr/presentation/" class="sidebar-link">Présentation de Vue.js</a></li><li><a href="/vuejs-training/fr/outillage/" class="sidebar-link">Outillage</a></li><li><a href="/vuejs-training/fr/vues/" class="sidebar-link">Vues</a></li><li><a href="/vuejs-training/fr/directives/" class="sidebar-link">Directives</a></li><li><a href="/vuejs-training/fr/composants/" class="sidebar-link">Composants</a></li><li><a href="/vuejs-training/fr/reactivite/" class="sidebar-link">Réactivité</a></li><li><a href="/vuejs-training/fr/etat/" class="sidebar-link">Gestion d'état</a></li><li><a href="/vuejs-training/fr/routage/" class="sidebar-link">Routage</a></li><li><a href="/vuejs-training/fr/http/" class="sidebar-link">Requêtes HTTP</a></li><li><a href="/vuejs-training/fr/tests/" class="sidebar-link">Tests unitaires</a></li><li><a href="/vuejs-training/fr/reusabilite/" class="active sidebar-link">Réusabilité et composition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs-training/fr/reusabilite/#mixins" class="sidebar-link">Mixins</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/fr/reusabilite/#directives-personnalisees" class="sidebar-link">Directives personnalisées</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/fr/reusabilite/#plugins" class="sidebar-link">Plugins</a></li></ul></li><li><a href="/vuejs-training/fr/ecosysteme/" class="sidebar-link">Écosystème de Vue</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reusabilite-et-composition"><a href="#reusabilite-et-composition" aria-hidden="true" class="header-anchor">#</a> Réusabilité et composition</h1> <h2 id="mixins"><a href="#mixins" aria-hidden="true" class="header-anchor">#</a> Mixins</h2> <p>Les <a href="https://fr.vuejs.org/v2/guide/mixins.html" target="_blank" rel="noopener noreferrer">mixins<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> permettent de créer des ensembles de fonctionnalités réutilisables pour les composants de Vue. En les déclarant via l'option <code>mixins</code>, toutes les options du mixin seront fusionnées (merge) avec les options du composant.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// définir un objet mixin</span>
<span class="token keyword">const</span> helloMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">created</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">hello</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello from mixin!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// définition d'un composant qui utilise ce mixin</span>
<span class="token keyword">const</span> Component <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>helloMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'another created callback'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Component</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p>En cas de conflit de noms entre une option du mixin et celle du composant, la stratégie de fusion appliquée est la suivante:</p> <ul><li><code>data</code>, <code>methods</code>, <code>components</code> &amp; <code>directives</code>: les options du composants ont la priorité</li> <li>hooks du cycle de vie (par ex. <code>mounted</code>) : déclenchés successivement, les callbacks du mixin en premier</li></ul></div> <h2 id="directives-personnalisees"><a href="#directives-personnalisees" aria-hidden="true" class="header-anchor">#</a> Directives personnalisées</h2> <p>Vue permet de déclarer ses propres <a href="https://fr.vuejs.org/v2/guide/custom-directive.html" target="_blank" rel="noopener noreferrer">directives personnalisées<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - les éléments de syntaxe qui sont utilisés dans les templates de composant. Cette fonction est souvent utilisée par des bibliothèques tierces. Les directives personnalisées permettent de réutiliser de la logique applicative sur plusieurs éléments sans passer par un composant dédié. Veillez toutefois à ne pas en abuser car il est difficile de les tracer et elles peuvent rentrer en conflit avec des évolutions futures de Vue.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Register a global custom directive called 'v-focus'</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// When the bound element is inserted into the DOM...</span>
  <span class="token function-variable function">inserted</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Focus the element</span>
    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="plugins"><a href="#plugins" aria-hidden="true" class="header-anchor">#</a> Plugins</h2> <p>Enfin, Vue propose un système de <a href="https://fr.vuejs.org/v2/guide/plugins.html" target="_blank" rel="noopener noreferrer">plugins<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> servant à ajouter des fonctionnalités au niveau global de l'application. Là encore, il s'agit d'une fonctionnalité principalement utilisée par les bibliothèques tierces et il convient de ne pas en abuser. Les plugins peuvent entre autres:</p> <ul><li>ajouter des mixins globales ou de nouveaux composants déclarés globalement</li> <li>ajouter des méthodes ou propriétés globalement à tous les composants</li> <li>ajouter des directives/filtres/transitions</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> NotificationPlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'Notification'</span><span class="token punctuation">,</span> NotificationComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'notify'</span><span class="token punctuation">,</span> NotificationDirective<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>NotificationPlugin<span class="token punctuation">)</span>
</code></pre></div><p>La plupart des bibliothèques tierces de Vue utilisent ce format de plugin pour sa praticité. C'est le cas de <code>vue-router</code> par exemple. Les plugins sont reconnus comme tels et placés dans leur propre catégorie sur l'interface Vue UI.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vuejs-training/fr/tests/" class="prev">
          Tests unitaires
        </a></span> <span class="next"><a href="/vuejs-training/fr/ecosysteme/">
          Écosystème de Vue
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuejs-training/assets/js/app.b2f1ab06.js" defer></script><script src="/vuejs-training/assets/js/2.bc4a2d9f.js" defer></script><script src="/vuejs-training/assets/js/29.1aefee6e.js" defer></script>
  </body>
</html>
